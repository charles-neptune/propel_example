DATA: lv_periv TYPE t001-periv,
      lv_monat TYPE monat,
      lv_gjahr TYPE gjahr.

" 1) Get fiscal year variant for your company code
SELECT SINGLE periv
  INTO lv_periv
  FROM t001
 WHERE bukrs = '<your_bukrs>'.

" 2) Derive fiscal period from posting date
CALL FUNCTION 'DATE_TO_PERIOD_CONVERT'
  EXPORTING
    i_date  = gs_header-pstng_date
    i_periv = lv_periv
  IMPORTING
    e_buper = lv_monat
    e_gjahr = lv_gjahr.

" 3) Use that as the budgeting period (NUMC3)
ls_period-budgeting_period = |{ lv_monat ALPHA = IN WIDTH = 3 }|.
